{"openapi": "3.1.0", "info": {"title": "Axkan II Game API", "version": "0.1.0"}, "paths": {"/api/v1/games/join": {"post": {"summary": "Join Game", "description": "Create a new game or join an existing one.\nIf this is the first player, creates a new game.\nIf this is the second player, starts the game.", "operationId": "join_game_api_v1_games_join_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/JoinGameRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GameResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/games/ready": {"post": {"summary": "Ready Game", "description": "Mark a player as ready to start the game.\nIf both players are ready, the game starts.", "operationId": "ready_game_api_v1_games_ready_post", "parameters": [{"name": "game_id", "in": "query", "required": true, "schema": {"type": "string", "title": "Game Id"}}, {"name": "player_uuid", "in": "query", "required": true, "schema": {"type": "string", "description": "ID of the player getting ready", "title": "Player Uuid"}, "description": "ID of the player getting ready"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GameResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/games/roll-dice": {"post": {"summary": "Roll Dice", "description": "Roll the dice for the current player.", "operationId": "roll_dice_api_v1_games_roll_dice_post", "parameters": [{"name": "game_id", "in": "query", "required": true, "schema": {"type": "string", "title": "Game Id"}}, {"name": "player_uuid", "in": "query", "required": true, "schema": {"type": "string", "title": "Player Uuid"}}, {"name": "dice_collection_type", "in": "query", "required": false, "schema": {"type": "string", "title": "Dice Collection Type"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GameResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/games/select-pair": {"post": {"summary": "Select Pair", "description": "Select a pair for the current player.", "operationId": "select_pair_api_v1_games_select_pair_post", "parameters": [{"name": "game_id", "in": "query", "required": true, "schema": {"type": "string", "title": "Game Id"}}, {"name": "player_uuid", "in": "query", "required": true, "schema": {"type": "string", "title": "Player Uuid"}}, {"name": "pair_index", "in": "query", "required": true, "schema": {"type": "integer", "title": "Pair Index"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GameResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/games/end-review": {"post": {"summary": "End Review", "description": "End the review phase.", "operationId": "end_review_api_v1_games_end_review_post", "parameters": [{"name": "game_id", "in": "query", "required": true, "schema": {"type": "string", "title": "Game Id"}}, {"name": "player_uuid", "in": "query", "required": true, "schema": {"type": "string", "title": "Player Uuid"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GameResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/games/convert-color": {"post": {"summary": "Convert Color", "description": "Convert the color of a pair for the current player.", "operationId": "convert_color_api_v1_games_convert_color_post", "parameters": [{"name": "game_id", "in": "query", "required": true, "schema": {"type": "string", "title": "Game Id"}}, {"name": "player_uuid", "in": "query", "required": true, "schema": {"type": "string", "title": "Player Uuid"}}, {"name": "pair_index", "in": "query", "required": true, "schema": {"type": "integer", "title": "Pair Index"}}, {"name": "special_card_index", "in": "query", "required": true, "schema": {"type": "integer", "title": "Special Card Index"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GameResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/games/sample/board": {"get": {"summary": "Get Sample Board", "description": "Get a sample board data for testing.", "operationId": "get_sample_board_api_v1_games_sample_board_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Board"}}}}}}}, "/api/v1/games/sample/game-result": {"get": {"summary": "Get Sample Game Result", "description": "Get a sample board data for testing.", "operationId": "get_sample_game_result_api_v1_games_sample_game_result_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GameResult"}}}}}}}}, "components": {"schemas": {"Board": {"properties": {"current_phase": {"$ref": "#/components/schemas/GamePhase"}, "turn_number": {"type": "integer", "title": "Turn Number"}, "dice_result": {"items": {"type": "integer"}, "type": "array", "title": "Dice Result"}, "dice_extra": {"type": "integer", "title": "Dice Extra", "default": 0}, "stock_price": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Stock Price"}, "first_selector": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "First Selector"}, "second_selector": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Second Selector"}, "dice_roller": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Dice Roller"}, "available_pairs": {"items": {"$ref": "#/components/schemas/CardPair"}, "type": "array", "title": "Available Pairs"}, "selected_pair_index": {"additionalProperties": {"type": "integer"}, "type": "object", "title": "Selected Pair Index"}, "current_player": {"$ref": "#/components/schemas/PlayerView"}, "opponent": {"$ref": "#/components/schemas/OpponentView"}}, "type": "object", "required": ["current_phase", "turn_number", "dice_result", "stock_price", "first_selector", "second_selector", "dice_roller", "available_pairs", "selected_pair_index", "current_player", "opponent"], "title": "Board", "description": "Game board state with player-specific view"}, "Card": {"properties": {"suit": {"$ref": "#/components/schemas/CardSuit"}, "rank": {"$ref": "#/components/schemas/CardRank"}}, "type": "object", "required": ["suit", "rank"], "title": "Card", "description": "Represents a single card in the game."}, "CardPair": {"properties": {"small_card": {"$ref": "#/components/schemas/Card"}, "big_card": {"$ref": "#/components/schemas/Card"}}, "type": "object", "required": ["small_card", "big_card"], "title": "CardPair", "description": "Represents a pair of cards (small + big)."}, "CardRank": {"type": "integer", "enum": [1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 7], "title": "CardRank", "description": "Card ranks from Ace to King."}, "CardSuit": {"type": "string", "enum": ["heart", "diamond", "spade", "club"], "title": "CardSuit", "description": "Types of card suits."}, "GamePhase": {"type": "string", "enum": ["lobby", "game_start", "game_init", "turn_start", "turn_select_first", "turn_select_second", "turn_complete", "final_review", "game_end"], "title": "GamePhase"}, "GameResponse": {"properties": {"status": {"type": "string", "title": "Status"}, "game_id": {"type": "string", "title": "Game Id"}, "player_uuid": {"type": "string", "title": "Player Uuid"}}, "type": "object", "required": ["status", "game_id", "player_uuid"], "title": "GameResponse"}, "GameResult": {"properties": {"winner": {"type": "integer", "title": "Winner"}, "stock_price": {"type": "integer", "title": "Stock Price"}, "player_1": {"$ref": "#/components/schemas/PlayerView"}, "player_2": {"$ref": "#/components/schemas/PlayerView"}}, "type": "object", "required": ["winner", "stock_price", "player_1", "player_2"], "title": "GameResult"}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "JoinGameRequest": {"properties": {"player_name": {"type": "string", "title": "Player Name"}}, "type": "object", "required": ["player_name"], "title": "JoinGameRequest"}, "OpponentView": {"properties": {"uuid": {"type": "string", "title": "Uuid"}, "name": {"type": "string", "title": "Name"}, "player_id": {"type": "integer", "title": "Player Id"}, "selected_pairs": {"items": {"$ref": "#/components/schemas/CardPair"}, "type": "array", "title": "Selected Pairs"}, "seven_cards": {"items": {"$ref": "#/components/schemas/Card"}, "type": "array", "title": "Seven Cards"}, "pnl": {"type": "integer", "title": "Pnl"}, "cost": {"type": "integer", "title": "Cost"}, "value": {"type": "integer", "title": "Value"}}, "type": "object", "required": ["uuid", "name", "player_id", "selected_pairs", "seven_cards", "pnl", "cost", "value"], "title": "OpponentView"}, "PlayerView": {"properties": {"uuid": {"type": "string", "title": "Uuid"}, "player_id": {"type": "integer", "title": "Player Id"}, "name": {"type": "string", "title": "Name"}, "selected_pairs": {"items": {"$ref": "#/components/schemas/CardPair"}, "type": "array", "title": "Selected Pairs"}, "seven_cards": {"items": {"$ref": "#/components/schemas/Card"}, "type": "array", "title": "Seven Cards"}, "hidden_pair": {"anyOf": [{"$ref": "#/components/schemas/CardPair"}, {"type": "null"}]}, "pnl": {"type": "integer", "title": "Pnl"}, "cost": {"type": "integer", "title": "Cost"}, "value": {"type": "integer", "title": "Value"}}, "type": "object", "required": ["uuid", "player_id", "name", "selected_pairs", "seven_cards", "hidden_pair", "pnl", "cost", "value"], "title": "PlayerView"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}}}}